<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>抽卡模拟</title>
    <link rel="stylesheet" href="css/layui/css/layui.css"  media="all">
    <script src="css/layui/layui.js" charset="utf-8"></script>
    <link rel="stylesheet" href="css/bootstrap337/css/bootstrap.css">
</head>
<body>
    <div class="main" style="padding: 100px; width: 100%; height: 100%;">

        <div class="up" style="padding: 50px; display: flex;">
            <img src="img/up/chuanzhang.gif" alt="" class="img-responsive" style="padding-right: 20px;">
            <div style="padding-left: 20px;">
                <div class="layui-btn-container">
                    <button class="layui-btn" id="upSelect">
                        选择UP角色
                    </button>
                </div>
                <div>
                    <span id="NowUp"></span>
                </div>
                <div>
                    <button class="layui-btn layui-btn-primary layui-border-green" type="submit" onclick=danchou()>召唤一次</button>
                    <button class="layui-btn layui-btn" type="submit" onclick=shilian()>十连召唤</button>
                </div>
            </div>
        </div>

        <div id="Result">
            
        </div>

    </div>

    <script>
        layui.use(['dropdown', 'util', 'layer', 'table'], function(){
            var dropdown = layui.dropdown
            ,util = layui.util
            ,layer = layui.layer
            ,table = layui.table
            ,$ = layui.jquery;
            
            dropdown.render({
                elem: '#upSelect',
                data: [{
                    title: '战争女神普利特维采', //选项名称
                    templet: '<img src="img/up/8.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 100, 
                },{
                    title: '偶像骑士团长伊娃', //选项名称
                    templet: '<img src="img/up/42.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 101,
                },{
                    title: '红斗篷团伙领导人阿拉贝尔', //选项名称
                    templet: '<img src="img/up/23.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 100, 
                },{
                    title: '淑女骑士拉碧丝', //选项名称
                    templet: '<img src="img/up/6.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 101,
                },{
                    title: '冰雪魔女瑞皮娜', //选项名称
                    templet: '<img src="img/up/7.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 100, 
                },{
                    title: '舞姬蒂尼亚', //选项名称
                    templet: '<img src="img/up/24.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 101,
                },{
                    title: '海军舰长玛丽娜', //选项名称
                    templet: '<img src="img/up/50.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 100, 
                },{
                    title: '鲜花店少女芭莉', //选项名称
                    templet: '<img src="img/up/22.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 101,
                },{
                    title: '火龙化身比什巴赫', //选项名称
                    templet: '<img src="img/up/4.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 100, 
                },{
                    title: '电影演员尤金', //选项名称
                    templet: '<img src="img/up/11.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 101,
                },{
                    title: '八尾狐奈莉', //选项名称
                    templet: '<img src="img/up/25.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 100, 
                },{
                    title: '档案室文字记录员兰儿', //选项名称
                    templet: '<img src="img/up/5.jpg" style="width: 100px;"> {{d.title}}', //图片路径
                    id: 100, 
                }],
                click: function(obj){
                    Up(obj.title)
                    layer.tips('当前up：'+ obj.title, this.elem, {tips: [1, '#5FB878']}) //内容，位置，时间/颜色
                }
            })

        })
    </script>

    <script>
        up = '无'
        var upName = document.getElementById('NowUp')
        upName.innerText = '当前up:'+up
        function Up(name){
            up = name
            var upName = document.getElementById('NowUp')
            upName.innerText = '当前up:'+up
        }

        function getRandom(min,max){
            return Math.floor(Math.random()*(max - min + 1)) + min  //返回 min（包含）～ max（包含）之间的数字 tip:基本公式XD
        }

        function danchou(){
            var n = getRandom(1,100000)
            var m
            if(n < 2750){
                if(up == '无'){
                    var mArray = ['电影演员尤金','火龙化身比什巴赫','档案室文字记录员兰儿','淑女骑士拉碧丝','冰雪魔女瑞皮娜','战争女神普利特维采','鲜花店少女芭莉','红斗篷团伙领导人阿拉贝尔','舞姬蒂尼亚','偶像骑士团长伊娃','海军舰长玛丽娜','八尾狐奈莉']
                    var child_n = getRandom(1,mArray.length)
                    m = mArray[child_n-1]
                }else{
                    if(n < 1375){
                        m = up
                    }else{
                        while(true){
                            var mArray = ['电影演员尤金','火龙化身比什巴赫','档案室文字记录员兰儿','淑女骑士拉碧丝','冰雪魔女瑞皮娜','战争女神普利特维采','鲜花店少女芭莉','红斗篷团伙领导人阿拉贝尔','舞姬蒂尼亚','偶像骑士团长伊娃','海军舰长玛丽娜','八尾狐奈莉']
                            var child_n = getRandom(1,mArray.length)
                            m = mArray[child_n-1]
                            if(m !== up){
                                break
                            }
                        }
                    }
                }
            }else if(n>=2750 && n<21750){
                var mArray = ['魅魔冒险家柚子','白兽','龙骑士夏皮拉','男(女)骑士','武士赤雪','仙山拳师佩儿or仙山拳师梅儿','双重人格仆人艾米','沙漠佣兵马修','狙击手赫卡忒','吹牛魔法师道尔夫','科学家索菲','红斗篷埃尔韦拉','工程师玛丽安','因纽特少女可可','疯狂科学家吉蒙里','海贼瑞秋','异界幸存者凯瑟琳','炎龙吉尔瓦斯','骑士团长伊娃','双胞胎治愈能手帕比','吸血鬼少女卡瑞娜','皇女阿依莎','旅馆老板娘罗兰茵','森林妖精青叶','勇士落选者克雷格','龙爪派岚芳','双胞胎搏击选手拉比']
                var child_n = getRandom(1,mArray.length)
                m = mArray[child_n-1]
            }else{
                m = '无'
            }
            //显示结果
            var setResult = document.getElementById('Result')
            setResult.innerHTML = '<div style="display: flex; justify-content: center; padding: 20px">'+ '<div>' + m +'</div>' + '</div>'
        }
        
        function shilian(){
            var nArray = []
            for(var i=1; i<=10; i++){
                var n = getRandom(1,100000)
                var m
                if(n < 2750){
                    if(up == ''){
                        var mArray = ['电影演员尤金','火龙化身比什巴赫','档案室文字记录员兰儿','淑女骑士拉碧丝','冰雪魔女瑞皮娜','战争女神普利特维采','鲜花店少女芭莉','红斗篷团伙领导人阿拉贝尔','舞姬蒂尼亚','偶像骑士团长伊娃','海军舰长玛丽娜']
                        var child_n = getRandom(1,mArray.length)
                        m = mArray[child_n-1]
                    }else{
                        if(n < 1375){
                            m = up
                        }else{
                            while(true){
                                var mArray = ['电影演员尤金','火龙化身比什巴赫','档案室文字记录员兰儿','淑女骑士拉碧丝','冰雪魔女瑞皮娜','战争女神普利特维采','鲜花店少女芭莉','红斗篷团伙领导人阿拉贝尔','舞姬蒂尼亚','偶像骑士团长伊娃','海军舰长玛丽娜']
                                var child_n = getRandom(1,mArray.length)
                                m = mArray[child_n-1]
                                if(m !== up){
                                    break
                                }
                            }
                        }
                    }
                }else if(n>=2750 && n<21750){
                    var mArray = ['魅魔冒险家柚子','白兽','龙骑士夏皮拉','男(女)骑士','武士赤雪','仙山拳师佩儿or仙山拳师梅儿','双重人格仆人艾米','沙漠佣兵马修','狙击手赫卡忒','吹牛魔法师道尔夫','科学家索菲','红斗篷埃尔韦拉','工程师玛丽安','因纽特少女可可','疯狂科学家吉蒙里','海贼瑞秋','异界幸存者凯瑟琳','炎龙吉尔瓦斯','骑士团长伊娃','双胞胎治愈能手帕比','吸血鬼少女卡瑞娜','皇女阿依莎','旅馆老板娘罗兰茵','森林妖精青叶','勇士落选者克雷格','龙爪派岚芳','双胞胎搏击选手拉比']
                    var child_n = getRandom(1,mArray.length)
                    m = mArray[child_n-1]
                }else{
                    m = '无'
                }
                if(i==10){
                    var mArray = ['魅魔冒险家柚子','白兽','龙骑士夏皮拉','男(女)骑士','武士赤雪','仙山拳师佩儿or仙山拳师梅儿','双重人格仆人艾米','沙漠佣兵马修','狙击手赫卡忒','吹牛魔法师道尔夫','科学家索菲','红斗篷埃尔韦拉','工程师玛丽安','因纽特少女可可','疯狂科学家吉蒙里','海贼瑞秋','异界幸存者凯瑟琳','炎龙吉尔瓦斯','骑士团长伊娃','双胞胎治愈能手帕比','吸血鬼少女卡瑞娜','皇女阿依莎','旅馆老板娘罗兰茵','森林妖精青叶','勇士落选者克雷格','龙爪派岚芳','双胞胎搏击选手拉比']
                    var child_n = getRandom(1,mArray.length)
                    m = mArray[child_n-1]
                }
                nArray.push(m)
            }
            //显示结果
            var setResult = document.getElementById('Result')
            setResult.innerHTML = '<div style="display: flex; justify-content: center; padding: 20px">'+'<div>'+ nArray[0] +'|</div>'+'<div>'+ nArray[1] +'|</div>'+'<div>'+ nArray[2] +'|</div>'+'<div>'+ nArray[3] +'|</div>'+'<div>'+ nArray[4] +'|</div>'+ '</div>'+ '<div style="display: flex; justify-content: center;">' +'<div>'+ nArray[5] +'|</div>'+'<div>'+ nArray[6] +'|</div>'+'<div>'+ nArray[7] +'|</div>'+'<div>'+ nArray[8] +'|</div>'+'<div>'+ nArray[9] +'|</div>'+'</div>'
        }
    </script>

</body>
</html>
